/* Grundlegende Seite */
body {
  background-color: #f8f9fa; /* leichtes Grau, hilft Kontrast zur weißen Navbar */
  color: #212529;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  margin: 0;
}

html, body {
  height: 100%;
  overflow: auto; /* Scrollen auf allen Seiten erlauben */
}

/* Navbar-Styling */
.navbar.bg-white {
  background-color: #f8f9fa !important;
}
.navbar {
  box-shadow: none;
  border-bottom: none;
}
.navbar .navbar-brand {
  font-weight: 600;
}
.navbar .nav-link.active {
  font-weight: 600;
  color: #0d6efd; /* Bootstrap-Primary */
}

main.container, main.d-flex {
  height: calc(100vh - 72px);
  overflow: visible;
}

main.container {
  padding-top: 1rem;
}

/* Button in der Navbar */
.nav-btn {
  background-color: #2a614d;
  color: #ffffff;
  border: none;
  border-radius: 999px;
  transition: background-color 150ms ease, transform 120ms ease;
}
.nav-btn:hover,
.nav-btn:focus {
  background-color: #234f3f;
  color: #fff;
  text-decoration: none;
  transform: translateY(-1px);
}
.nav-btn:active {
  transform: translateY(0);
}

/* Einstellungen-Knopf in playZone: gleiche Optik wie .nav-btn, nur orange */
.settings-btn {
  background-color: #e5943f;
  color: #ffffff;
  border: none;
  border-radius: 999px;
  transition: background-color 150ms ease, transform 120ms ease;
}
.settings-btn:hover,
.settings-btn:focus {
  background-color: #d27f2d; /* etwas dunkleres Orange beim Hover */
  color: #ffffff;
  text-decoration: none;
  transform: translateY(-1px);
}
.settings-btn:active {
  transform: translateY(0);
}

.text-center h1 {
  font-size: 2.25rem;
  font-weight: 700;
  font-family: 'Playfair Display', Georgia, 'Times New Roman', serif;
}
.text-center {
  /* Platz unter Überschrift/CTA schaffen, damit das überstehende Bild/Rechteck nicht hineinragt */
  margin-bottom: 6vh; /* leicht reduziert: genug Puffer unter dem CTA, aber Platz für das überstehende Bild */
}
.text-center .cta-btn {
  background-color: #f0a44d;
  color: #ffffff; /* Textfarbe angepasst */
  border: none;
  padding: 0.6rem 1.2rem;
  border-radius: 999px; /* gleiche abgerundeten Ecken wie .nav-btn */
  margin-top: 1rem; /* Erhöht für bessere Sichtbarkeit */
  display: inline-block; /* sicherstellen, dass Button sichtbar ist */
  visibility: visible;
  opacity: 1;
  position: relative; /* notwendig, damit z-index wirkt */
  z-index: 50; /* sicherstellen, dass der Start-Button immer oben bleibt */
  box-shadow: 0 .12rem .35rem rgba(0,0,0,.08); /* leichter Schatten */
}
.text-center .cta-btn:hover,
.text-center .cta-btn:focus {
  background-color: #e5943f;
  color: #ffffff; /* Text bleibt angepasst beim Hover */
  text-decoration: none;
}

/* Accent-Wrapper: umgibt sowohl das Bild als auch das grüne Rechteck */
.accent {
  position: relative;
  width: 100%;
  display: block;
  height: auto;
  min-height: 320px;
}

/* Accent-Rect: jetzt absolut innerhalb des Wrappers, zentriert zur Bildmitte */
.accent-rect {
  position: absolute;
  left: 50%;
  top: calc(50% + 4.5rem);
  transform: translate(-50%, -50%);
  width: 100%;
  max-width: 900px;
  height: 300px;
  background-color: #7ca38e;
  border-radius: 24px;
  z-index: 0;
  pointer-events: none;
}

/* Bild, welches in der Mitte des grünen Rechtecks sitzt */
.accent-home {
  position: absolute;
  left: 50%;
  top: calc(50% + 4.5rem);
  transform: translate(-50%, -50%);
  height: 150%;
  width: auto;
  object-fit: contain; /* skaliert ohne Verzerren */
  display: block;
  z-index: 1;
  pointer-events: none;
}

/* Styles für configGame.html */
.config-container {
  width: 100%;
  max-width: 520px;
  background: #f6faf6;
  padding: 20px;
  border-radius: 14px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.08);
  margin: 16px;

  /* Einheitliche vertikale Abstände: Flex-Column mit Gap */
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

/* Entferne doppelte Bootstrap-Abstände innerhalb des Config-Containers
   damit nur das oben definierte gap wirkt. Wir zielen nur auf direkte Kinder. */
.config-container > .mb-3,
.config-container > .mt-2,
.config-container > .text-center {
  margin: 0 !important;
}


.config-container .panel {
  margin: 0;
  background: #e4f5ec;
  padding: 12px;
  border-radius: 10px;
}

/* Bild-Vorschau: kleine Anpassung damit sie sich ins Grid einfügt */
.config-container #image-preview {
  max-width: 100%;
  max-height: 200px;
  display: block;
  margin-left: auto;
  margin-right: auto;
  border-radius: 8px;
}

/* Button-Wrapper: keine zusätzliche top-margin mehr */
.config-container .text-center { margin: 0 !important; }

/* Selected state für Buttons in der Config-Seite */
.config-container .btn.difficulty-btn.selected,
.config-container .btn.size-btn.selected,
.config-container .btn.btn-outline-secondary.selected {
  background-color: #2a614d !important; /* angepasst: gewünschtes Grün */
  color: #ffffff !important;
  border-color: #173b30 !important; /* dunklere Border für Kontrast */
  box-shadow: 0 10px 30px rgba(36,79,63,0.18), inset 0 -3px 0 rgba(0,0,0,0.06) !important;
  transform: translateY(-1px);
  transition: transform 120ms ease, box-shadow 160ms ease;
}

/* Fallback: auch über aria-pressed unterstützen (Accessibility) */
.config-container .btn.size-btn[aria-pressed="true"],
.config-container .btn.difficulty-btn[aria-pressed="true"],
.config-container .btn[aria-pressed="true"] {
  background-color: #2a614d !important;
  color: #ffffff !important;
  border-color: #173b30 !important;
  box-shadow: 0 10px 30px rgba(36,79,63,0.18), inset 0 -3px 0 rgba(0,0,0,0.06) !important;
  transform: translateY(-1px);
}

/* Styles für playZone */
:root {
  --frame-radius: 20px;
  --frame-ring: 12px;
  --frame-gap: 14px; /* innere Lücke zwischen Rahmen und Grid */
  --placeholder-bg: #fbfaf8; /* sehr helles Neutral für den Hintergrund */
  --cell-gap: 6px; /* Abstand zwischen Puzzleteilen */
}

.frame {
  background: transparent; /* kein sichtbarer Hintergrund, Rahmen sitzt am Platzhalter */
  border-radius: var(--frame-radius);
  border: none; /* Rahmen jetzt am Platzhalter statt am Frame */
  padding: 0; /* kein Abstand zwischen Frame und Platzhalter */
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 6px 18px rgba(0,0,0,0.06);
  box-sizing: border-box;
  max-width: 100%;
  width: 100%;
}

.puzzle-placeholder {
  width: min(720px, 86vw);
  height: min(520px, calc(100vh - 240px));
  max-height: calc(100vh - 240px);
  overflow: hidden; /* schneidet Inhalt an der Border ab */
  border-radius: var(--frame-radius); /* gleiche Rundung wie der Frame */
  padding: 0; /* Grid soll direkt an die Border stoßen */
  box-sizing: border-box;
  background: transparent; /* kein inneres Weiß */

  /* sichtbarer Rahmen sitzt direkt am Platzhalter und umschließt das Grid */
  border: var(--frame-ring) solid #8b5a2b;
  display: flex;
  align-items: stretch;
  justify-content: stretch;
}

.puzzle-grid {
  width: 100%;
  height: 100%;
  display: grid;
  gap: 0; /* kein Abstand, damit Zellen direkt die Border berühren */
  align-items: stretch;
  justify-items: stretch;
  background: transparent;
  padding: 0; /* kein zusätzlicher Abstand zum Rand */
  box-sizing: border-box;
  grid-auto-rows: 1fr; /* Zeilen proportional zu den Spalten halten */
}
.puzzle-cell {
  background: #eaeaea;
  border-radius: 0; /* innere Abrundungen entfernt, um bündig anzuschließen */
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  border: 0; /* kein innerer Rahmen für Symmetrie */
  aspect-ratio: 1 / 1; /* Zellen bleiben quadratisch, damit das Grid sauber füllt */
}
.puzzle-cell img { width: 100%; height: 100%; object-fit: cover; display: block; }
.puzzle-cell.placeholder { background: #e0e0e0; }
.puzzle-cell.drop-target {
  outline: 3px dashed rgba(36,79,63,0.7);
  transition: outline 120ms ease;
}

/* sicherstellen, dass der Puzzle-Inhalt zentriert bleibt unter dem Rahmen */
.frame, .puzzle-placeholder { margin-left: auto; margin-right: auto; }

/* Hinweis-Thumb (derzeit ungenutzt) für fehlende Puzzlestücke */
.thumb.empty-hint {
  display: flex;
  align-items: center;
  justify-content: center;
  color: #666;
  font-size: 0.9rem;
  background: #f7f7f7;
  border: 1px dashed #ccc;
  cursor: default;
}

/* Thumbnails-Leiste horizontal scrollen */
.thumbs-bar {
  width: 100%;
  align-items: center;
}
.thumbs-container {
  overflow-x: auto;
  overflow-y: hidden;
  max-height: 120px;
}
.thumbs {
  display: inline-flex;
  gap: 8px;
  align-items: stretch;
  width: max-content;
}
.thumb {
  flex: 0 0 auto;
  overflow: hidden; /* verhindert, dass Bilder aus dem Thumb ragen */
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.thumb img {
  width: 100%;
  height: 100%;
  object-fit: contain; /* verhindert Zuschneiden/Zoomen der Thumbs */
  display: block;
  border-radius: 4px;
}

/* Ghost-Bild während Touch-Dragging */
.drag-ghost {
  position: fixed;
  pointer-events: none;
  z-index: 9999;
  width: 80px;
  height: auto;
  opacity: 0.95;
  border-radius: 8px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.25);
  transform: translate3d(0,0,0);
}

/* Kleine visuelle Abschwächung des Originalelements beim Touch-Dragging */
.touch-dragging {
  opacity: 0.6;
  filter: brightness(0.95) saturate(0.9);
  transition: opacity 120ms ease;
}

/* Victory modal next button custom color */
#victory-next-btn {
  background-color: #e5943f !important;
  border-color: #e5943f !important;
  color: #ffffff !important;
  border-radius: 999px;
  padding: 0.45rem 1rem;
  font-weight: 600;
  box-shadow: 0 6px 18px rgba(0,0,0,0.08);
  transition: background-color 120ms ease, transform 120ms ease;
}
#victory-next-btn:hover,
#victory-next-btn:focus {
  background-color: #d27f2d !important; /* leicht dunkler bei Hover */
  border-color: #d27f2d !important;
  color: #ffffff !important;
  transform: translateY(-1px);
}

/* restart knopf und next-puzzle knopf: orange, abgerundet, hover-effekt */
#restart-btn,
#next-puzzle-btn {
  background-color: #e5943f !important;
  border-color: #e5943f !important;
  color: #ffffff !important;
  border-radius: 999px !important;
  padding: 0.45rem 0.9rem !important;
  box-shadow: 0 6px 18px rgba(0,0,0,0.08) !important;
  transition: background-color 120ms ease, transform 120ms ease;
}
#restart-btn:hover,
#next-puzzle-btn:hover,
#restart-btn:focus,
#next-puzzle-btn:focus {
  background-color: #d27f2d !important;
  border-color: #d27f2d !important;
  transform: translateY(-1px);
}


#restart-btn.btn-outline-danger,
#next-puzzle-btn.btn-outline-primary {
  background-color: #e5943f !important;
  border-color: #e5943f !important;
  color: #ffffff !important;
}


#save-settings {
  border-radius: 999px !important;
  padding: 0.45rem 0.9rem !important;
  transition: background-color 120ms ease, transform 120ms ease;
}
#save-settings:active,
#save-settings:focus {
  background-color: #173b30 !important;
  border-color: #173b30 !important;
  color: #ffffff !important;
  transform: translateY(0);
}


#settingsModal .count-btn.selected,
#settingsModal .count-btn[aria-pressed="true"] {
  background-color: #173b30 !important;
  border-color: #173b30 !important;
  color: #ffffff !important;
}
